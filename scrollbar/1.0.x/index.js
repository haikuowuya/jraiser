/*!
 * jRaiser 2 Javascript Library
 * scrollbar - v1.0.0 (2014-01-24T16:01:54+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("scrollbar/1.0.x/",["dom/1.0.x/","widget/1.0.x/","draggable/1.0.x/",null],function(e,t,n){var r=e("base/1.0.x/"),i=e("dom/1.0.x/"),s=e("widget/1.0.x/"),o=e("draggable/1.0.x/"),u='<div class="scrollbar"><div class="scrollbar-track"><div class="scrollbar-thumb"></div></div></div>',a;"onmousewheel"in document.body?a="mousewheel":a="DOMMouseScroll";var f="webkitOverflowScrolling"in document.body.style;return s.create(function(){},{_init:function(e){var t=e.axis;if(!t)throw new Error("please specify the axis of scrollbar");t=t.toLowerCase();var n=this;n._axis=t,n._scrollBody=e.scrollBody;if(f){n._overflowStyle={webkitOverflowScrolling:"touch"};var r;switch(n._axis){case"x":n._overflowStyle.overflowX="scroll",r="scrollLeft";break;case"y":n._overflowStyle.overflowY="scroll",r="scrollTop"}n._onOverflowScroll=function(){n.trigger("scroll",{scrollBodyPosition:this[r]})},n._scrollBody.parent().css(n._overflowStyle).on("scroll",n._onOverflowScroll);return}n._scrollOuter=e.scrollOuter,n._scrollbar=i(u).click(function(e){if(!n._scrollbarEnabled||i(e.target).hasClass("scrollbar-thumb"))return;var t;switch(n._axis){case"x":t=(e.offsetX-n._scrollThumb.width()/2)/n._scrollbar.outerWidth()*n._scrollBody.outerWidth(!0);break;case"y":t=(e.offsetY-n._scrollThumb.height()/2)/n._scrollbar.outerHeight()*n._scrollBody.outerHeight(!0)}n.scrollTo(t)});switch(t){case"x":n._scrollbar.addClass("scrollbar-horizontal");break;case"y":n._scrollbar.addClass("scrollbar-vertical")}n._scrollThumb=n._scrollbar.find(".scrollbar-thumb"),n._scrollOuter.append(n._scrollbar),e.mouseWheelStep&&(n.onMouseWheel=function(t){t.preventDefault();var r=t.originalEvent,i=1;r.wheelDelta?r.wheelDelta>0&&(i=-1):r.detail&&r.detail<0&&(i=-1),n.scroll(i*e.mouseWheelStep)},n._scrollOuter.on(a,n.onMouseWheel)),n.refresh()},_destroy:function(){var e=this;delete e._axis,e.onMouseWheel&&(e._scrollOuter.off(a,e.onMouseWheel),delete e.onMouseWheel),delete e._scrollOuter,e._draggable&&(e._draggable.destroy(),delete e._draggable),e._scrollbar&&(e._scrollbar.remove(),delete e._scrollbar);var t=e._scrollBody.parent();if(e._overflowStyle){for(var n in e._overflowStyle)e._overflowStyle[n]="";t.css(e._overflowStyle)}e._onOverflowScroll&&(t.off("scroll",e._onOverflowScroll),delete e._onOverflowScroll),delete e._scrollbarEnabled,delete e._scrollThumbLimit,delete e._scrollBodyLimit,delete e._scrollThumb,delete e._scrollBody},refresh:function(){var e=this,t,n;switch(e._axis){case"x":t=e._scrollBody.outerWidth(!0),n=e._scrollBody.parent().outerWidth();break;case"y":t=e._scrollBody.outerHeight(!0),n=e._scrollBody.parent().outerHeight()}e.trigger("beforerefresh",{viewportSize:n,scrollBodySize:t,scrollbar:e._scrollbar});if(t>n){var r=n/t,i,s;switch(e._axis){case"x":i=e._scrollbar.outerWidth(),s=Math.max(r*i,e._options.minThumbSize),e._scrollThumb.width(s),e._scrollThumbLimit=i-s;break;case"y":i=e._scrollbar.outerHeight(),s=Math.max(r*i,e._options.minThumbSize),e._scrollThumb.height(s),e._scrollThumbLimit=i-s}e._scrollBodyLimit=t-n,e._draggable=e._draggable||new o({wrapper:e._scrollThumb,boundary:e._scrollbar,events:{drag:function(t){var n;switch(e._axis){case"x":n=t.position.left;break;case"y":n=t.position.top}e.scrollTo(e._scrollBodyLimit*n/e._scrollThumbLimit)}}}),e._scrollbar.removeClass("scrollbar-disabled"),e._scrollbarEnabled=!0,e.scroll(0)}else e._draggable&&(e._draggable.destroy(),delete e._draggable()),e._scrollbar.addClass("scrollbar-disabled"),e._scrollbarEnabled=!1;return e.trigger("afterrefresh",{viewportSize:n,scrollBodySize:t,scrollbar:e._scrollbar,scrollbarEnabled:e._scrollbarEnabled}),e._scrollbarEnabled},scroll:function(e){var t=this,n;switch(t._axis){case"x":n="left";break;case"y":n="top"}t.scrollTo(-(parseFloat(t._scrollBody.css(n))||0)+e)},scrollTo:function(e){var t=this;if(!t._scrollbarEnabled)return;e<0?e=0:e>t._scrollBodyLimit&&(e=t._scrollBodyLimit);var n;switch(t._axis){case"x":n="left";break;case"y":n="top"}t._scrollBody.css(n,-e);var r=e/t._scrollBodyLimit*t._scrollThumbLimit;t._scrollThumb.css(n,r),t.trigger("scroll",{scrollbar:t._scrollbar,scrollBodyPosition:e,scrollThumbPosition:r})}},{axis:"y",minThumbSize:20,mouseWheelStep:100})})